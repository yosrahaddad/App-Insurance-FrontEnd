<div class="form">
<form class="form-inline my-2 my-lg-0">
  
   <input type="search" (ngModelChange)="searchPlans(key.value)" #key="ngModel" ngModel name="key" id="searchName" class="form-control mr-sm-2" placeholder="Search plans..." required>
 
</form>
</div>

<!-- List of Plans -->

<div class="container" *ngFor="let Plan of plans" id="main-container">

<div  class="col-xs-12 col-md-6 bootstrap snippets bootdeys" >
	
	<div  class="product-content product-wrap clearfix">
		<div class="row">
				<div  class="col-md-5 col-sm-12 col-xs-12">
					<div class="product-image"> 
                  <a href=""><img src= {{Plan?.imageUrl}} alt="" class="img-fluid  w-100" ></a>
					</div>
				</div>
				<div class="col-md-7 col-sm-12 col-xs-12">
				<div class="product-deatil">
						<h5 class="name">
                       {{Plan?.provider}}
						</h5>
						<p class="price-container">
							${{Plan?.price}}
						</p>
						<span class="tag1"></span> 
				</div>
				<div class="description">
					<p>Drug Coverage : {{Plan?.drugcoverage}}</p>
					<p>Doctor Coverage : {{Plan?.doctorcoverage}}</p>
					<p>Feature : {{Plan?.feature}} </p>
				</div>
				<div class="product-info smart-form">
					<div class="row">
						<div class="col-md-15 col-sm-15 col-xs-15"> 
							<a (click)="goToEnrollementPage('contact')" class="btn btn-success" >Enrollement</a>
								
						</div>

                  <div class="card-body">
                     <div class="float-right btn-group btn-group-sm">
                        
                        <a (click)="onOpenModal(Plan, 'edit')" class="btn btn-primary tooltips" data-placement="top" data-original-title="Edit"><i class="fa fa-pencil"></i></a>
                        <a (click)="onOpenModal(Plan, 'delete')" class="btn btn-secondary tooltips" data-placement="top" data-original-title="Delete"><i class="fa fa-times"></i></a>
                     </div>
                  </div>
					</div>
				</div>
			</div>
		</div>
	</div>
  
</div>



<!-- Add Plan Modal -->
<div class="modal fade" id="addPlanModal" tabindex="-1" role="dialog" aria-labelledby="addPlanModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="addPlanModalLabel">Add Plan</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #addForm="ngForm" (ngSubmit)="onAddPlan(addForm)">
           <div class="form-group">
              <label for="Provider">Provider</label>
              <input type="text" ngModel name="provider" class="form-control" id="Provider" placeholder="Provider" required>
           </div>
           <div class="form-group">
              <label for="Price">Price</label>
              <input type="text" ngModel name="price" class="form-control" id="Price" placeholder="Price" required>
           </div>
           <div class="form-group">
              <label for="feature">feature</label>
              <input type="text" ngModel name="feature" class="form-control" id="feature" placeholder="feature" required>
           </div>
           <div class="form-group">
              <label for="drugcoverage">drugcoverage</label>
              <input type="text" ngModel name="drugcoverage" class="form-control" id="drugcoverage" placeholder="drugcoverage" required>
           </div>
           <div class="form-group">
             <label for="doctorcoverage">doctorcoverage</label>
             <input type="text" ngModel name="doctorcoverage" class="form-control" id="doctorcoverage" placeholder="doctorcoverage" required>
          </div>
           <div class="form-group">
              <label for="imageURL">ImageURL</label>
              <input type="text" ngModel name="imageURL" class="form-control" id="imageURL" placeholder="imageURL" required>
           </div>
           <div class="modal-footer">
              <button type="button" id="add-Plan-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Save changes</button>
           </div>
           </form>
        </div>
     </div>
   </div>
   </div>
 

<!-- Edit Modal -->
<div class="modal fade" id="updatePlanModal" tabindex="-1" role="dialog" aria-labelledby="PlanEditModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="updatePlanModalLabel">Edit Plan {{editPlan?.provider}}</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #editForm="ngForm">
              <div class="form-group">
                 <label for="Provider">Provider</label>
                 <input type="text" ngModel="{{editPlan?.provider}}" name="provider" class="form-control" id="Provider" aria-describedby="emailHelp" placeholder="Provider">
              </div>
              <input type="hidden" ngModel="{{editPlan?.id}}" name="id" class="form-control" id="id" placeholder="Email">
              <div class="form-group">
                 <label for="Price">Price</label>
                 <input type="text" ngModel="{{editPlan?.price}}" name="price" class="form-control" id="Price" placeholder="Price">
              </div>
              <div class="form-group">
                 <label for="feature">feature</label>
                 <input type="text" ngModel="{{editPlan?.feature}}" name="feature" class="form-control" id="feature" placeholder="feature">
              </div>
              <div class="form-group">
                 <label for="doctorcoverage">doctorcoverage</label>
                 <input type="text" ngModel="{{editPlan?.doctorcoverage}}" name="doctorcoverage" class="form-control" id="doctorcoverage" name="doctorcoverage" placeholder="doctorcoverage">
              </div>
              <div class="form-group">
               <label for="drugcoverage">drugcoverage</label>
               <input type="text" ngModel="{{editPlan?.drugcoverage}}" name="drugcoverage" class="form-control" id="drugcoverage" name="drugcoverage" placeholder="drugcoverage">
              </div>
              <div class="form-group">
                 <label for="ImageURL">ImageURL</label>
                 <input type="text" ngModel="{{editPlan?.imageUrl}}" name="imageURL" class="form-control" id="imageURL" placeholder="ImageURL">
              </div>
              <div class="modal-footer">
                 <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
                 <button (click)="onUpdatePlan(editForm.value)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
              </div>
           </form>
        </div>
     </div>
  </div>
</div>


<!-- Delete Modal -->
<div class="modal fade" id="deletePlanModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="deleteModelLabel">Delete Plan</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <p>Are you sure you want to delete Plan {{deletePlan?.provider}}?</p>
           <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
              <button (click)="onDeletePlan(deletePlan.id)" class="btn btn-danger" data-dismiss="modal">Yes</button>
           </div>
        </div>
     </div>
  </div>
</div>
</div>




  <div class="form">
   <form class="form-inline my-2 my-lg-0">
     
     <a (click)="onOpenModal(null,'add')" class="btn btn-primary tooltips" data-placement="top" data-original-title="Add"><i class="fa fa-plus"></i></a>
   </form>
   </div>
 

<!-- Notification for no plans -->
<div *ngIf="plans?.length == 0" class="col-lg-12 col-md-12 col-xl-12">
<div class="alert alert-info" role="alert">
  <h4 class="alert-heading">NO plans!</h4>
  <p>No plans were found.</p>
</div>
</div>




